TODO - move functionality out of sign-in page and form